(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{159:function(e,t,n){e.exports=n(330)},168:function(e,t,n){},329:function(e,t,n){},330:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),c=n.n(o),l=n(52),i=n(96),u=(n(168),n(24)),s=n.n(u),m=n(54),p=n(72),f=n(131),d=n.n(f).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/ejam",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_ENDPOINT||"http://localhost:3030"}),v=Object(p.b)({name:"deployment",initialState:{deployment:[],fakeTimer:!1},reducers:{getDeploymentsSuccess:function(e,t){e.deployment=t.payload,e.fakeTimer=!1},getDeploymentsInit:function(e){e.fakeTimer=!0}}}),E=v.reducer,h=v.actions,y=h.getDeploymentsSuccess,b=h.getDeploymentsInit,O=function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return{templateName:e.templateName,id:e._id,version:e.version,url:e.url,deployedAt:new Date(e.deployedAt)}})),console.log(n),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){return function(){var e=Object(m.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.get("/deployments");case 3:return n=e.sent,e.t0=t,e.t1=y,e.next=8,O(n.data);case 8:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),e.next=15;break;case 13:e.prev=13,e.t4=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},g=n(336),k=n(335),T=n(53),j=n(338),S=n(337),N=n(97),D=n(332),I=n(333),_=n(334),x=function(e){var t=e.distance,n=e.onTimerEnds,o=Object(a.useState)(t),c=Object(i.a)(o,2),l=c[0],u=c[1],s=function(e){return e>0?{hour:Math.floor(e%864e5/36e5),minute:Math.floor(e%36e5/6e4),second:Math.floor(e%6e4/1e3),milisecond:Math.floor(e%1e3/10)}:{hour:0,minute:0,second:0,milisecond:0}}(l),m=function(e){clearInterval(e),n()};return Object(a.useEffect)((function(){var e;return e=setInterval((function(){u((function(e){return e-10}))}),10),l<0&&e&&m(e),function(){return m(e)}}),[l]),r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,s.hour,":",s.minute,":",s.second,":",s.milisecond," "))},C=function(e){var t=e.list,n=e.onDelete;return t=t.slice().sort((function(e,t){return t.deployedAt.getTime()-e.deployedAt.getTime()})),r.a.createElement(g.b,{className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:t,renderItem:function(e){return r.a.createElement(g.b.Item,{actions:[r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return n(e.id)}},"delete")]},r.a.createElement(g.b.Item.Meta,{title:r.a.createElement("a",{href:"https://ant.design"},e.templateName),description:"version: "+e.version}),r.a.createElement("div",null,e.url))}})},A=function(e){var t=e.onSubmitForm,n=Object(a.useState)({templateName:"",version:"",url:""}),o=Object(i.a)(n,2),c=o[0],l=o[1];return r.a.createElement(k.a,{labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",initialValues:{templateName:"",url:"",version:""},onValuesChange:function(e){return l(e)},onFinish:function(e){return t(e)},validateMessages:{required:"${label} is required!",types:{url:"${label} is not validate url!"}}},r.a.createElement(k.a.Item,{label:"Templates",name:"templateName"},r.a.createElement(T.a,null,P.map((function(e,t){return r.a.createElement(j.a.Button,{key:"_temp"+t,value:e.name},e.name)})))),r.a.createElement(k.a.Item,{label:"Version",name:"version"},r.a.createElement(T.a,null,(P.find((function(e){return e.name===c.templateName}))||{name:"default",versions:[]}).versions.map((function(e,t){return r.a.createElement(T.a.Option,{value:e,key:"_ver"+t},e)})))),r.a.createElement(k.a.Item,{label:"URL",name:"url",rules:[{required:!0,type:"url"}]},r.a.createElement(S.a,{placeholder:"url goes here."})),r.a.createElement(k.a.Item,{wrapperCol:{offset:8}},r.a.createElement(N.a,{type:"primary",htmlType:"submit"},"Deploy")))};var M=function(){var e=Object(l.c)((function(e){return e.deployment}));r.a.useEffect((function(){t(w())}),[]);var t=Object(l.b)();return r.a.createElement("div",{className:"App"},r.a.createElement(D.a,{justify:"center"},r.a.createElement(I.a,{flex:"1"},r.a.createElement(A,{onSubmitForm:function(e){return t((n=e,function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.post("/deployments",n);case 3:e.sent,t(b()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));var n}}))),r.a.createElement(_.a,{orientation:"right"},"Deployments Listed Down"),r.a.createElement(D.a,{justify:"center"},r.a.createElement(I.a,null,e.fakeTimer?r.a.createElement(x,{onTimerEnds:function(){return t(w())},distance:3e4}):null,r.a.createElement(C,{onDelete:function(e){return t(function(e){return function(){var t=Object(m.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.stringify({ids:e}),t.next=4,d.delete("/deployments",{params:{query:a}});case 4:t.sent,n(w()),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},list:e.deployment}))))},P=[{name:"Natural One",versions:["1.0.0","1.0.1","1.1.0","2.0.0"]},{name:"Techno 01",versions:["1.0.0","1.1.1","2.0.1"]},{name:"Sporty",versions:["1.0.0","1.1.0","1.2.0","1.2.1","1.3.0","2.0.0"]}];n(329),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=n(13),R=Object(L.c)({deployment:E}),W=Object(p.a)({reducer:R});c.a.render(r.a.createElement(l.a,{store:W},r.a.createElement(r.a.StrictMode,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[159,1,2]]]);
//# sourceMappingURL=main.35947e9c.chunk.js.map